<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>What is ILP?</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="../favicon.svg">
        
        
        <link rel="shortcut icon" href="../favicon.png">
        
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../welcome.html">Welcome</a></li><li class="chapter-item expanded "><a href="../lesson1/introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../lesson2/metrics-and-evaluation.html"><strong aria-hidden="true">2.</strong> Metrics and Evaluation</a></li><li class="chapter-item expanded "><a href="../lesson3/pipelining.html"><strong aria-hidden="true">3.</strong> Pipelining</a></li><li class="chapter-item expanded "><a href="../lesson4/branches.html"><strong aria-hidden="true">4.</strong> Branches</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../lesson4/prediction.html"><strong aria-hidden="true">4.1.</strong> Prediction</a></li><li class="chapter-item expanded "><a href="../lesson4/branch-target-buffer.html"><strong aria-hidden="true">4.2.</strong> Branch Target Buffer</a></li><li class="chapter-item expanded "><a href="../lesson4/direction-predictor.html"><strong aria-hidden="true">4.3.</strong> Direction Predictor</a></li><li class="chapter-item expanded "><a href="../lesson4/2-bit-predictor.html"><strong aria-hidden="true">4.4.</strong> 2 Bit Predictor</a></li><li class="chapter-item expanded "><a href="../lesson4/history-based-predictors.html"><strong aria-hidden="true">4.5.</strong> History Based Predictors</a></li><li class="chapter-item expanded "><a href="../lesson4/pshare.html"><strong aria-hidden="true">4.6.</strong> PShare</a></li><li class="chapter-item expanded "><a href="../lesson4/tournament-predictor.html"><strong aria-hidden="true">4.7.</strong> Tournament Predictor</a></li><li class="chapter-item expanded "><a href="../lesson4/return-address-stack.html"><strong aria-hidden="true">4.8.</strong> Return Address Stack</a></li></ol></li><li class="chapter-item expanded "><a href="../lesson5/predication.html"><strong aria-hidden="true">5.</strong> Predication</a></li><li class="chapter-item expanded "><a href="../lesson6/ilp.html"><strong aria-hidden="true">6.</strong> Instruction Level Parallelism</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../lesson6/false-deps.html"><strong aria-hidden="true">6.1.</strong> False Dependencies</a></li><li class="chapter-item expanded "><a href="../lesson6/what-is-ilp.html" class="active"><strong aria-hidden="true">6.2.</strong> What is ILP?</a></li></ol></li><li class="chapter-item expanded "><a href="../lesson7/instruction-scheduling.html"><strong aria-hidden="true">7.</strong> Instruction Scheduling</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../lesson7/issuing.html"><strong aria-hidden="true">7.1.</strong> Tomasulo's Algorithm - Issuing</a></li><li class="chapter-item expanded "><a href="../lesson7/dispatching.html"><strong aria-hidden="true">7.2.</strong> Tomasulo's Algorithm - Dispatching</a></li><li class="chapter-item expanded "><a href="../lesson7/writing.html"><strong aria-hidden="true">7.3.</strong> Tomasulo's Algorithm - Writing</a></li><li class="chapter-item expanded "><a href="../lesson7/review.html"><strong aria-hidden="true">7.4.</strong> Tomasulo's Algorithm - Review</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#what-is-ilp" id="what-is-ilp">What is ILP?</a></h1>
<p><strong>Instruction level parallelism (ILP)</strong> is a property of a program given the
fact that it's running on an <em>ideal processor</em>. What's an ideal processor? An
ideal processor has these attributes:</p>
<ul>
<li>Processor dispatches an entire instruction in <code>1</code> cycle.</li>
<li>Processor can do any number of instructions in the same cycle.
<ul>
<li>The processor has to obey true dependencies when doing this.</li>
</ul>
</li>
</ul>
<p>So what are the steps to acquire the value of a program's ILP? A program's ILP
is equal to the IPC when executing on an ideal processor following the rules
stated above. Obviously ideal processors like this always aren't achievable, the
ILP for a program will be different on actual real-world processors. ILP gives
us a value, however, for the parallel nature of program - defining how many
true dependencies exist within the code.</p>
<p>The steps to acquire the ILP of a program are:</p>
<ol>
<li>Rename the registers, as shown previously.</li>
<li>&quot;Execute&quot; the code on the ideal processor.</li>
</ol>
<h2><a class="header" href="#ilp-example" id="ilp-example">ILP example</a></h2>
<p>The below excerpt from the lectures showcases how we can compute the ILP for a
given set of instructions: <code>ILP == num instructions/cycles</code>. In this example,
the professor identifies the true dependencies that exists for the set of
instructions and sees that the fifth instruction cannot execute until the writes
of instruction one and three are complete. Thus, this program will take 2 cycles
on an ideal processor to execute.</p>
<p>A neat trick that is described in the lecture is that we don't even have to
conduct register renaming in order to calculate the ILP. All we have to do is
identify the true dependencies - the register renaming will take care of the
false or name dependencies for us.</p>
<p><img src="./img/ilp-example.png" alt="ilp-example" /></p>
<h2><a class="header" href="#ilp-quiz" id="ilp-quiz">ILP quiz</a></h2>
<p>Below is a quiz from the lectures showcase the technique for calculating ILP
described above. We don't conduct register renaming, we just identify the true
dependencies to determine on what cycle instructions are eligible to execute.
After we determine the minimum number of cycles to resolve the true
dependencies, we can find the ILP of the program.</p>
<p><img src="./img/ilp-quiz.png" alt="ilp-quiz" /></p>
<h2><a class="header" href="#calculating-ilp-with-structural-and-control-dependencies" id="calculating-ilp-with-structural-and-control-dependencies">Calculating ILP with structural and control dependencies</a></h2>
<p>When calculating ILP, we don't account for <strong>structural dependencies</strong>. These
dependencies result for architectural issues like not having an adder available
for a specific operation, etc. Something outside of the programmer's control,
solely relies with the manufacturing of the processor.</p>
<p>For <strong>control dependencies</strong>, we essentially ignore them. We assume that we
have perfect same-cycle branch prediction. In the example below, we show that
a branch instruction has a data dependency on instructions prior to it, however,
because we have perfect branch prediction we know that we will jump to the
<code>Label</code>. Thus, we fetch the instructions from the <code>Label</code> and execute them, even
though our branch has not been executed, yet.</p>
<p><img src="./img/ilp-w-control-struct-deps.png" alt="ilp-w-control-struct-deps" /></p>
<h2><a class="header" href="#ilp-vs-ipc" id="ilp-vs-ipc">ILP vs IPC</a></h2>
<p>Below is an excerpt from the class conducting a comparison of the calculations
for ILP vs IPC on a given example processor. The processor has some limitations
such as: 2-issue (2 instructions / cycle), 1 MUL and 1 ADD/SUB/XOR components
(structural limitations). With this, we calculate the ILP for the given
instructions and then we calculate the IPC twice: once ignoring the structural
limitations and once factoring in the structural limitations.</p>
<p>As we can see, the IPC for a processor can only be equal to or less than the
ILP. Real processors will have limitations and won't always be able to achieve
the ILP of a program.</p>
<p><img src="./img/ilp-vs-ipc.png" alt="ilp-vs-ipc" /></p>
<h2><a class="header" href="#ilp-vs-ipc-quiz" id="ilp-vs-ipc-quiz">ILP vs IPC quiz</a></h2>
<p>Below is a quiz from the lecture that shows us how to calculate and compare the
ILP and IPC of a program for a given test processor. Note, the processor in this
example can only dispatch instructions <strong>in order</strong>, thus degrading our
performance in comparison with the out of order processor's we've seen in the
past. This limitation causes us to have to stop dispatching instructions when we
encounter a dependency.</p>
<p><img src="./img/ilp-v-ipc-quiz.png" alt="ilp-v-ipc-quiz" /></p>
<h2><a class="header" href="#ilp-vs-ipc-discussion" id="ilp-vs-ipc-discussion">ILP vs IPC discussion</a></h2>
<p>This slide sorta restates what we covered earlier - a summary, essentially. The
ILP can only be calculated using the abstract concept of an ideal processor, and
it's generally representative of the best performance of a program. The ILP
will always be greater than or equal to the IPC, and the IPC is calculated using
an actual processor with issue and structural limitations.</p>
<p>The limitations for processors and how they affect IPC breaks down like this:</p>
<ul>
<li>If a processor <strong>narrowly issues</strong> instructions (1 - 2 instructions / cycle),
and only executes instructions <strong>in order</strong>, the processor will mostly be
limited by the <strong>narrowly issued</strong> attribute.</li>
<li>If a processor <strong>widely issues</strong> instructions (4 or more instructions / cycle)
, and only executes instructions <strong>in order</strong>, the processor will mostly be
limited by the <strong>in order</strong> attribute.</li>
<li>The <em>best</em> case is when the processor <strong>widely issues</strong> instructions but also
can execute instructions <strong>out of order</strong>. To do this, the processor will have
to dispatch a lot of instructions per cycle, eliminate false dependencies
through register renaming, and reorder instructions so they can be executed out
of order.</li>
</ul>
<p><img src="./img/ilp-v-ipc-discussion.png" alt="ilp-v-ipc-discussion" /></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../lesson6/false-deps.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../lesson7/instruction-scheduling.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../lesson6/false-deps.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../lesson7/instruction-scheduling.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        
        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3000/__livereload");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
